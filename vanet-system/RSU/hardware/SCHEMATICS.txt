# RSU Schematic (Text Wiring Guide)

Power:
- Input: 12V DC (or 5V USB) -> Buck converter -> 5V rail
- 5V rail -> 3.3V LDO for ESP32 and LoRa module
- Dedicated 4.0V regulator for SIM800L with large decoupling capacitors (1000uF+ near module)
- Add TVS diode and resettable fuse on 12V input

ESP32 connections:
- UART1 TX/RX -> SIM800L (via level shifter if needed)
- SPI -> SX1278 (SCK, MOSI, MISO, NSS/CS)
- GPIO -> SX1278 DIO0 (interrupt), DIO1 optional
- SDIO/SPI -> microSD module (optional)
- I2C -> DS3231 RTC (optional)
- GPIO -> status LEDs, push-button

SIM800L connections:
- UART -> ESP32 (use voltage translation if needed)
- Antenna -> SMA/Qi connector
- 4.0V power -> dedicated regulator
- Large electrolytic capacitor near Vcc to handle TX bursts

Antenna placement:
- Place LoRa and GSM antennas away from each other to reduce desense
- Use external SMA connectors through enclosure

Notes:
- Keep RF traces short and matched where possible. Use appropriate ground planes and filtering for automotive environments.
